{"extract":{"type":"fun","args":[],"method":"from_json","next":{"type":"branch","name":"#branch1","next":[{"type":"access","key":"beat","subtype":"access_obj","next":{"subtype":"assign_obj","type":"assign","assign":[{"key":"hostname","type":"string","is_dimension":1,"assign_to":"hostname"},{"assign_to":"ip","is_dimension":1,"key":"address","type":"string"}]}},{"subtype":"access_obj","type":"access","key":"container","next":{"type":"branch","next":[{"assign":[{"assign_to":"id","type":"string","key":"id","is_dimension":1},{"is_dimension":1,"key":"name","type":"string","assign_to":"container_name"}],"subtype":"assign_obj","type":"assign"},{"next":{"assign":[{"assign_to":"bcs_appid","is_dimension":1,"type":"string","key":"bcs_appid"},{"is_dimension":1,"type":"string","key":"io.tencent.bcs.app.appid","assign_to":"bcs_appid"},{"is_dimension":1,"key":"io.kubernetes.pod.metadata.label.bcs_appid","type":"string","assign_to":"bcs_appid"},{"is_dimension":1,"type":"string","key":"bcs_cluster","assign_to":"bcs_cluster"},{"assign_to":"bcs_cluster","is_dimension":1,"key":"io.tencent.bcs.cluster","type":"string"},{"is_dimension":1,"key":"io.kubernetes.pod.metadata.label.bcs_cluster","type":"string","assign_to":"bcs_cluster"},{"assign_to":"bcs_moduleid","is_dimension":1,"type":"string","key":"bcs_moduleid"},{"assign_to":"bcs_moduleid","is_dimension":1,"type":"string","key":"io.tencent.bcs.app.moduleid"},{"assign_to":"bcs_moduleid","key":"io.kubernetes.pod.metadata.label.bcs_moduleid","type":"string","is_dimension":1},{"assign_to":"bcs_setid","is_dimension":1,"key":"bcs_setid","type":"string"},{"key":"io.tencent.bcs.app.setid","type":"string","is_dimension":1,"assign_to":"bcs_setid"},{"assign_to":"bcs_setid","type":"string","key":"io.kubernetes.pod.metadata.label.bcs_setid","is_dimension":1},{"assign_to":"bcs_worldid","type":"string","key":"bcs_worldid","is_dimension":1},{"type":"string","key":"io.tencent.bcs.app.worldid","is_dimension":1,"assign_to":"bcs_worldid"},{"is_dimension":1,"type":"string","key":"io.kubernetes.pod.metadata.label.bcs_worldid","assign_to":"bcs_worldid"},{"assign_to":"bizid","key":"bcs_appid","type":"int"},{"assign_to":"bizid","type":"int","key":"io.tencent.bcs.app.appid"},{"assign_to":"bizid","type":"int","key":"io.kubernetes.pod.metadata.label.bcs_appid"},{"assign_to":"podname","key":"io.kubernetes.pod.name","type":"string"},{"assign_to":"podname","type":"string","key":"podname"}],"type":"assign","subtype":"assign_obj"},"key":"labels","type":"access","subtype":"access_obj"}],"name":"#branch2"}},{"subtype":"access_obj","type":"access","key":"memory","next":{"type":"branch","next":[{"type":"assign","subtype":"assign_obj","assign":[{"type":"long","key":"cache","assign_to":"cache"},{"type":"long","key":"rss","assign_to":"rss"},{"key":"usage","type":"long","assign_to":"usage"},{"assign_to":"total","key":"limit","type":"long"},{"assign_to":"working_set","type":"long","key":"working_set"},{"key":"swap","type":"long","assign_to":"swap"},{"assign_to":"failcnt","type":"long","key":"failcnt"}]},{"key":"container_data","type":"access","subtype":"access_obj","next":{"type":"assign","subtype":"assign_obj","assign":[{"assign_to":"pgfault_total","key":"pgfault","type":"long"},{"key":"pgmajfault","type":"long","assign_to":"pgmajfault"}]}}],"name":"#branch3"}},{"subtype":"access_obj","key":"timestamp","type":"access","next":{"next":{"type":"access","subtype":"access_pos","index":0,"next":{"args":["."],"type":"fun","next":{"next":{"assign":[{"assign_to":"datetime","type":"string","index":0}],"type":"assign","subtype":"assign_pos"},"type":"access","subtype":"access_pos","index":0},"method":"split"}},"method":"split","args":["+"],"type":"fun"}}]}},"calculate":[{"assign_var":"usage_pct","assign_type":"double","expr":{"lval":{"op":"/","type":"expr","lval":{"name":"usage","type":"field","op":"value"},"rval":{"name":"total","type":"field","op":"value"}},"rval":{"type":"int","op":"value","val":100},"op":"*","type":"expr"}},{"expr":{"lval":{"type":"expr","op":"/","rval":{"name":"total","op":"value","type":"field"},"lval":{"name":"rss","op":"value","type":"field"}},"rval":{"op":"value","val":100,"type":"int"},"op":"*","type":"expr"},"assign_type":"double","assign_var":"rss_pct"}],"conf":{"time_field_name":"datetime","timestamp_len":0,"time_format":"yyyy-MM-dd'T'HH:mm:ss","output_field_name":"timestamp","encoding":"UTF8","timezone":8}}