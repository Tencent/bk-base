{"calculate":[{"expr":{"op":"+","type":"expr","lval":{"op":"value","val":0,"type":"int"},"rval":{"method":"map","args":["bkclouds_cc_cache","biz_id","ip,plat_id,company_id","inner_ip,plat_id,company_id"],"type":"fun","next":null}},"assign_type":"int","assign_var":"biz_id"}],"conf":{"timestamp_len":0,"timezone":0,"output_field_name":"timestamp","encoding":"UTF8","time_format":"yyyy-MM-dd'T'HH:mm:ss","time_field_name":"utctime"},"extract":{"args":[],"method":"from_json","type":"fun","next":{"type":"branch","name":"#branch1","next":[{"type":"assign","assign":[{"type":"string","key":"ip","assign_to":"ip","is_dimension":1},{"is_dimension":1,"assign_to":"company_id","key":"bizid","type":"int"},{"key":"cloudid","assign_to":"plat_id","is_dimension":1,"type":"int"},{"type":"string","key":"@timestamp","assign_to":"utctime"}],"subtype":"assign_obj"},{"key":"beat","type":"access","next":{"type":"assign","subtype":"assign_obj","assign":[{"type":"string","is_dimension":1,"key":"hostname","assign_to":"hostname"}]},"subtype":"access_obj"},{"type":"access","next":{"key":"status","type":"access","subtype":"access_obj","next":{"type":"branch","name":"#branch2","next":[{"type":"assign","assign":[{"type":"long","assign_to":"total_accesses_min","key":"total_accesses_min"},{"key":"total_accesses","assign_to":"total_accesses","type":"long"},{"type":"long","key":"total_kbytes_min","assign_to":"total_kbytes_min"},{"assign_to":"total_kbytes","key":"total_kbytes","type":"long"},{"type":"double","assign_to":"bytes_per_req","key":"bytes_per_request"},{"key":"bytes_per_sec","assign_to":"bytes_per_sec","type":"double"},{"type":"double","key":"requests_per_sec","assign_to":"req_per_sec"}],"subtype":"assign_obj"}]}},"subtype":"access_obj","key":"apache"},{"type":"access","next":{"type":"assign","assign":[{"key":"host","assign_to":"instance_id","is_dimension":1,"type":"string"}],"subtype":"assign_obj"},"subtype":"access_obj","key":"metricset"}]}}}